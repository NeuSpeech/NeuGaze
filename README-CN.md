# NeuGaze: åŸºäºŽå¤´éƒ¨åŠ¨ä½œã€é¢éƒ¨è¡¨æƒ…ä¸Žå‡è§†çš„è®¡ç®—æœºæŽ§åˆ¶ç³»ç»Ÿ

**ä¸­æ–‡æ–‡æ¡£ | [English](README.md)**

[![arXiv](https://img.shields.io/badge/arXiv-2504.15101-b31b1b.svg)](https://arxiv.org/abs/2504.15101)
[![æ¼”ç¤ºè§†é¢‘](https://img.shields.io/badge/Demo-Bilibili-00A1D6)](https://www.bilibili.com/video/BV1kKdYYVEEM/#reply270100925344)

ä¸€ä¸ªç»“åˆé¢éƒ¨è¡¨æƒ…è¯†åˆ«ã€å¤´éƒ¨åŠ¨ä½œè¿½è¸ªå’Œå‡è§†ä¼°è®¡çš„éžä¾µå…¥å¼è®¡ç®—æœºæŽ§åˆ¶ç³»ç»Ÿï¼Œä¸“ä¸ºå…æ‰‹æ“ä½œçš„äººæœºäº¤äº’è€Œè®¾è®¡ã€‚

## é¡¹ç›®æ¦‚è¿°

ä¼ ç»Ÿè¾…åŠ©æŠ€æœ¯å­˜åœ¨æ˜¾è‘—å±€é™ï¼šåƒNeuralinkè¿™æ ·çš„ä¾µå…¥å¼è„‘æœºæŽ¥å£éœ€è¦æ‰‹æœ¯æ¤å…¥ï¼ŒTobiiç­‰å•†ä¸šçœ¼åŠ¨ä»ªç¼ºä¹å¤æ‚æ“ä½œçš„ç²¾åº¦ï¼Œä¼ ç»Ÿè¾…åŠ©è®¾å¤‡å¾€å¾€æ¶‰åŠç¹ççš„æŽ§åˆ¶æ–¹å¼ã€‚NeuGazeé€šè¿‡æ•´åˆé¢éƒ¨è¡¨æƒ…ã€å¤´éƒ¨åŠ¨ä½œå’Œå‡è§†ä¼°è®¡æ¥è§£å†³è¿™äº›æŒ‘æˆ˜ï¼Œåˆ›é€ å‡ºç›´è§‚çš„å…æ‰‹æŽ§åˆ¶ç³»ç»Ÿã€‚

**ç¡¬ä»¶è¦æ±‚ï¼š**

- ðŸ“· æ ‡å‡†æ‘„åƒå¤´ï¼ˆæ— éœ€ç‰¹æ®Šç¡¬ä»¶ï¼‰
- ðŸ’» ä»…CPUè¿è¡Œï¼ˆæ— éœ€GPUï¼‰
- ðŸªŸ ç›®å‰æ”¯æŒWindowsï¼ˆå…¶ä»–å¹³å°å¯èƒ½å¯ç”¨ä½†æœªæµ‹è¯•ï¼‰

**æ ¸å¿ƒç‰¹æ€§ï¼š**

- ðŸŽ¯ **åŸºäºŽå‡è§†çš„é¼ æ ‡æŽ§åˆ¶** å®žæ—¶æ ¡å‡†
- ðŸ˜Š **é¢éƒ¨è¡¨æƒ…æ˜ å°„** é”®ç›˜/é¼ æ ‡æ“ä½œ
- ðŸŽ® **ä¸‰æ¨¡æ€æŽ§åˆ¶** ç»“åˆå‡è§†ã€è¡¨æƒ…å’Œå¤´éƒ¨åŠ¨ä½œ
- âš™ï¸ **å¯å®šåˆ¶é…ç½®** é€‚ç”¨äºŽä¸åŒä½¿ç”¨åœºæ™¯
- ðŸš€ **å®žæ—¶æ€§èƒ½** CPUä¼˜åŒ–æŽ¨ç†

## æ€§èƒ½è¯„ä¼°

æˆ‘ä»¬ä½¿ç”¨å¤šä¸ªæ ¡å‡†æ•°æ®é›†è¿›è¡Œäº†æ¸è¿›å¼è®­ç»ƒçš„ç»¼åˆæµ‹è¯•ã€‚ç³»ç»Ÿåœ¨ç»è¿‡å¤šæ¬¡è®­ç»ƒåŽï¼Œåœ¨3072Ã—1920æ˜¾ç¤ºå±ä¸Šå®žçŽ°äº†ç¨³å®šçš„å‡è§†è¿½è¸ªæ€§èƒ½ï¼Œå¹³å‡è¯¯å·®çº¦ä¸º**48æ¯«ç±³**ï¼Œå†ç»è¿‡å¡å°”æ›¼æ»¤æ³¢åŽè¯¯å·®ä¸º40æ¯«ç±³ã€‚ç›®å‰æ€§èƒ½ç¡®å®žæ¯”tobiiçš„æ•ˆæžœå·®ä¸å°‘ï¼Œå¯ä»¥ä¸€èµ·å…±åˆ›ã€‚

![æ¸è¿›å¼è®­ç»ƒåˆ†æž](results/progressive_training/comprehensive_comparison.png)

*æ¸è¿›å¼è®­ç»ƒç»“æžœæ˜¾ç¤ºäº†å¤šä¸ªæ•°æ®é›†çš„è¯¯å·®å‡å°‘å’Œæ€§èƒ½ç¨³å®šæ€§ã€‚åˆ†æžè¡¨æ˜Žéšç€æ›´å¤šè®­ç»ƒæ•°æ®çš„åŠ å…¥ï¼Œå‡è§†ç²¾åº¦æŒç»­æ”¹å–„ã€‚*

## å®‰è£…è¯´æ˜Ž

### å¿«é€Ÿå®‰è£…ï¼ˆæŽ¨èï¼‰

#### Windowsç”¨æˆ·
```cmd
# åŒå‡»è¿è¡Œå®‰è£…è„šæœ¬
install.bat
```


è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ£€æŸ¥Pythonç‰ˆæœ¬å’ŒcondaçŽ¯å¢ƒ
2. åˆ›å»ºåä¸º `neugaze` çš„condaçŽ¯å¢ƒ
3. æŒ‡å¯¼ä½ æ¿€æ´»çŽ¯å¢ƒå¹¶å®‰è£…ä¾èµ–

### çŽ¯å¢ƒé…ç½®


```bash
# åˆ›å»ºå¹¶æ¿€æ´»condaçŽ¯å¢ƒ
conda create -n neugaze python=3.11.11
conda activate neugaze

# å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt
```

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨å›¾å½¢ç•Œé¢

```bash
python config_gui_cpu.py
```

### 2. æ‘„åƒå¤´è®¾ç½®

- é€‰æ‹©æ‘„åƒå¤´ï¼ˆé»˜è®¤ï¼šæ‘„åƒå¤´0ï¼‰
- å°†é¢éƒ¨ä½ç½®è°ƒæ•´åˆ°é¢„è§ˆçª—å£ä¸­å¤®
- ç‚¹å‡»"ç¡®è®¤é€‰æ‹©"

![æ‘„åƒå¤´é€‰æ‹©](assets/camera%20selection.png)

### 3. æ ¡å‡†

- ç‚¹å‡»"å¼€å§‹æ ¡å‡†"
- ç”¨çœ¼ç›è·Ÿéšå±å¹•ä¸Šçš„ç‚¹
- ä¿æŒçœ¼ç›çå¼€ï¼ˆåªæœ‰æ£€æµ‹åˆ°çœ¼ç›æ—¶æ‰æ‹ç…§ï¼‰
- ç­‰å¾…æ ¡å‡†å®Œæˆ

### 4. å¼€å§‹æŽ§åˆ¶

- ç‚¹å‡»"å¼€å§‹è¯„ä¼°"
- é¼ æ ‡å…‰æ ‡çŽ°åœ¨å°†è·Ÿéšæ‚¨çš„å‡è§†
- ä½¿ç”¨é¢éƒ¨è¡¨æƒ…è§¦å‘æ“ä½œ

## è¡¨æƒ…ä¸ŽæŽ§åˆ¶é…ç½®

NeuGazeä½¿ç”¨åœ¨ `configs/cpu.yaml`ä¸­å®šä¹‰çš„å¤æ‚è¡¨æƒ…è¯†åˆ«ç³»ç»Ÿã€‚ç³»ç»Ÿæ”¯æŒå¤šç§æŽ§åˆ¶æ¨¡å¼å’Œå¯å®šåˆ¶æ˜ å°„ã€‚

### è¡¨æƒ…æ£€æµ‹

ç³»ç»Ÿé€šè¿‡MediaPipeå…³é”®ç‚¹è¯†åˆ«é¢éƒ¨è¡¨æƒ…å¹¶å°†å…¶æ˜ å°„åˆ°ç‰¹å®šæ“ä½œï¼š

#### æ ¸å¿ƒè¡¨æƒ…

- **å¼ å˜´ (`jawOpen`)**ï¼š*è‡ªç„¶åœ°å¼ å¼€ä¸‹é¢Œ* â†’ æ¨¡å¼é€‰æ‹©å™¨ - æ˜¾ç¤ºå¯ç”¨æŽ§åˆ¶è½®ç›˜
- **å˜Ÿå˜´ (`mouthPucker`)**ï¼š*åšå‡ºäº²å»åŠ¨ä½œï¼Œå˜´å”‡æ’…èµ·* â†’ é¼ æ ‡å·¦é”®ç‚¹å‡»
- **ä¸‹é¢Œå·¦ç§» (`jawLeft`)**ï¼š*å°†ä¸‹é¢Œå‘å·¦ä¾§ç§»åŠ¨* â†’ é¼ æ ‡å³é”®ç‚¹å‡»
- **ä¸‹é¢Œå³ç§» (`jawRight`)**ï¼š*å°†ä¸‹é¢Œå‘å³ä¾§ç§»åŠ¨* â†’ é¼ æ ‡ä¸­é”®ç‚¹å‡»
- **å·¦ä¾§å¾®ç¬‘ (`mouthSmileLeft`)**ï¼š*åªç”¨å˜´çš„å·¦ä¾§å¾®ç¬‘* â†’ å¯¼èˆª/é€‰æ‹©
- **å³ä¾§å¾®ç¬‘ (`mouthSmileRight`)**ï¼š*åªç”¨å˜´çš„å³ä¾§å¾®ç¬‘* â†’ å¯¼èˆª/é€‰æ‹©
- **åŒä¾§å¾®ç¬‘**ï¼š*è‡ªç„¶çš„åŒä¾§å®Œæ•´å¾®ç¬‘* â†’ ç‰¹æ®Šå‘½ä»¤
- **å¤´éƒ¨åŠ¨ä½œ**ï¼š*å€¾æ–œã€è½¬åŠ¨å’Œç‚¹å¤´* â†’ WASDé”®å’Œæ»šåŠ¨

#### è¡¨æƒ…é…ç½®ç¤ºä¾‹

```yaml
left_click:
  conditions:
  - feature: mouthPucker
    operator: '>'
    threshold: 0.97
  - feature: mouthFunnel
    operator: <
    threshold: 0.2
  combine: AND
```

### æŽ§åˆ¶æ¨¡å¼

ç³»ç»Ÿé€šè¿‡è½®ç›˜ç•Œé¢æ”¯æŒå¤šç§æ“ä½œæ¨¡å¼ï¼š

#### 1. é»‘æ‚Ÿç©ºæ¸¸æˆæ¨¡å¼ (`game`)

é’ˆå¯¹æ¸¸æˆä¼˜åŒ–ï¼ŒåŒ…å«WASDç§»åŠ¨å’Œå¸¸ç”¨æ¸¸æˆé”®ï¼š

- **num1**ï¼šZ/X/Cé”®ï¼ˆåˆ‡æ£ï¼‰
- **num2**ï¼šShifté”®ï¼ˆå†²åˆº/è¹²ä¸‹ï¼‰
- **num4**ï¼šæ•°å­—é”®1-4ï¼ˆæŠ€èƒ½é€‰æ‹©ï¼‰
- **num6**ï¼šQ/R/F/Té”®ï¼ˆæ“ä½œé€‰æ‹©ï¼‰
- **num8**ï¼šç©ºæ ¼é”®ï¼ˆé—ªé¿ï¼‰

#### 2. CS:GOæ¨¡å¼ (`game_cs`)

ä¸“ä¸ºåæç²¾è‹±è®¾è®¡çš„æˆ˜æœ¯ç»‘å®šï¼š

- **num2**ï¼šç©ºæ ¼é”®ï¼ˆè·³è·ƒï¼‰
- **num8**ï¼šShifté”®ï¼ˆèµ°è·¯/ç²¾ç¡®å°„å‡»ï¼‰
- **é¼ æ ‡é”å®š**ï¼šç¦ç”¨ä»¥å®žçŽ°ç²¾ç¡®çž„å‡†

#### 3. çŽ‹è€…è£è€€æ¨¡å¼ (`game_wz`)

é’ˆå¯¹MOBAæ¸¸æˆä¼˜åŒ–ï¼š

- **num1-3**ï¼šæŠ€èƒ½æ¿€æ´»ï¼ˆæŠ€èƒ½1-3ï¼‰
- **num4**ï¼šåœ°å›¾ï¼ˆMé”®ï¼‰

#### 4. æ‰“å­—æ¨¡å¼ (`type`)

å®Œæ•´é”®ç›˜è®¿é—®ç”¨äºŽæ–‡æœ¬è¾“å…¥ï¼š

- **num4**ï¼šæ–¹å½¢å¸ƒå±€çš„å®Œæ•´å­—æ¯è¡¨
- **num6**ï¼šæ–¹å½¢å¸ƒå±€çš„æ•°å­—å’Œç¬¦å·
- **num2**ï¼šä¿®é¥°é”®ï¼ˆShiftã€Ctrlã€Altç­‰ï¼‰
- **num3**ï¼šå¸¸ç”¨å¿«æ·é”®ï¼ˆCtrl+Cã€Ctrl+Vç­‰ï¼‰

### é«˜çº§é…ç½®

#### è¡¨æƒ…ä¼˜å…ˆçº§

ç³»ç»ŸåŒ…å«ä¼˜å…ˆçº§è§„åˆ™ä»¥é˜²æ­¢å†²çªè¡¨æƒ…ï¼š

```yaml
priority_rules:
- when: num7
  disable: [num2]
  except: []
```

#### è½®ç›˜å¸ƒå±€

ä¸åŒè¾“å…¥æ¨¡å¼æ”¯æŒä¸åŒçš„è½®ç›˜å¸ƒå±€ï¼š

- **é»˜è®¤**ï¼šåœ†å½¢æŽ’åˆ—
- **æ–¹å½¢**ï¼šå­—æ¯å’Œç¬¦å·çš„ç½‘æ ¼å¸ƒå±€ï¼ˆ`layout_type: square`ï¼‰

#### å¤´éƒ¨åŠ¨ä½œé›†æˆ

å¤´éƒ¨æ–¹å‘æŽ§åˆ¶é™„åŠ åŠŸèƒ½ï¼š

- **ä¿¯ä»°ï¼ˆä¸Š/ä¸‹ï¼‰**ï¼šW/Sé”®
- **åèˆªï¼ˆå·¦/å³ï¼‰**ï¼šA/Dé”®
- **ç¿»æ»šï¼ˆå€¾æ–œï¼‰**ï¼šæ»šè½®

## ä½¿ç”¨åœºæ™¯

### æ— éšœç¢è¾…åŠ©

- **è¡ŒåŠ¨è¾…åŠ©**ï¼šä¸ºè¡ŒåŠ¨ä¸ä¾¿çš„ç”¨æˆ·æä¾›å…æ‰‹è®¡ç®—æœºæ“ä½œ
- **åº·å¤è®­ç»ƒ**ï¼šé€šè¿‡æŽ§åˆ¶å¤´éƒ¨å’Œé¢éƒ¨åŠ¨ä½œè¿›è¡Œè¿åŠ¨æŠ€èƒ½è®­ç»ƒ

### æ¸¸æˆå¨±ä¹

- **æ²‰æµ¸å¼æ¸¸æˆ**ï¼šä¸ºå¢žå¼ºæ¸¸æˆä½“éªŒæä¾›æ–°é¢–è¾“å…¥æ–¹æ³•
- **è‚Œè‚‰è®­ç»ƒ**ï¼šé€šè¿‡äº¤äº’æŽ§åˆ¶è¿›è¡Œé¢éƒ¨å’Œé¢ˆéƒ¨è‚Œè‚‰é”»ç‚¼

### æ™ºèƒ½è®¾å¤‡é›†æˆ

- **AR/VRç•Œé¢**ï¼šå¤´æˆ´æ˜¾ç¤ºè®¾å¤‡çš„è‡ªç„¶æŽ§åˆ¶
- **æ™ºèƒ½çœ¼é•œ**ï¼šåŸºäºŽè¡¨æƒ…çš„å¯¼èˆªï¼Œæ— éœ€æ‰‹åŠ¿

## æŠ€æœ¯ç»†èŠ‚

### æž¶æž„

- **æ„å›¾è¯†åˆ«**ï¼šå¯¹é¢éƒ¨è¡¨æƒ…ã€å¤´éƒ¨åŠ¨ä½œå’Œå‡è§†æ¨¡å¼çš„ç»¼åˆåˆ†æž
- **æ„å›¾æ˜ å°„**ï¼šå°†è¯†åˆ«çš„æ„å›¾è½¬æ¢ä¸ºç‰¹å®šçš„é”®ç›˜/é¼ æ ‡æ“ä½œ
- **å¤šæ¨¡æ€èžåˆ**ï¼šå¤šä¸ªåŒæ—¶æ„å›¾çš„é›†æˆå’Œä¼˜å…ˆçº§å¤„ç†
- **åŠ¨ä½œæ‰§è¡Œ**ï¼šåè°ƒæŽ§åˆ¶ç³»ç»Ÿï¼Œå®žçŽ°å¤æ‚çš„æ¸¸æˆæ“ä½œ
- **ä¼˜åŒ–**ï¼šä¸ºå®žæ—¶æ€§èƒ½ä¼˜åŒ–çš„CPUæŽ¨ç†ç®¡é“

### å±€é™æ€§

- **å…‰ç…§æ•æ„Ÿæ€§**ï¼šåœ¨å…‰ç…§ä¸è‰¯æˆ–ä¸å‡åŒ€æ—¶æ€§èƒ½ä¸‹é™
- **éœ€è¦æ ¡å‡†**ï¼šéœ€è¦ä¸ªäººæ ¡å‡†ä»¥èŽ·å¾—æœ€ä½³ç²¾åº¦
- **è¡¨æƒ…å­¦ä¹ **ï¼šè‡ªç„¶è¡¨æƒ…æŽ§åˆ¶å­˜åœ¨å­¦ä¹ æ›²çº¿

## è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿Žè´¡çŒ®ï¼è¯·éšæ—¶æäº¤é—®é¢˜ã€åŠŸèƒ½è¯·æ±‚æˆ–æ‹‰å–è¯·æ±‚ã€‚

## å¼•ç”¨

```bibtex
@article{yang2024neugaze,
  title={NeuGaze: Facial Expression and Gaze-Based Computer Control},
  author={Yang, Yiqian},
  journal={arXiv preprint arXiv:2504.15101},
  year={2024}
}
```

## è®¸å¯è¯

[![License: CC BY-NC 4.0](https://img.shields.io/badge/License-CC%20BY--NC%204.0-lightgrey.svg)](https://creativecommons.org/licenses/by-nc/4.0/)

æœ¬é¡¹ç›®é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨4.0å›½é™…è®¸å¯è¯ã€‚

**æ‚¨å¯ä»¥è‡ªç”±åœ°ï¼š**

- âœ… ä¸ªäººä½¿ç”¨æ—¶åˆ†äº«å’Œæ”¹ç¼–ä»£ç 
- âœ… ç”¨äºŽç ”ç©¶å’Œæ•™è‚²ç›®çš„
- âœ… ä¸ºéžå•†ä¸šç›®çš„åˆ›å»ºè¡ç”Ÿä½œå“ï¼ˆå¦‚ç›´æ’­ã€å†…å®¹åˆ›ä½œï¼‰

**æ‚¨ä¸å¯ä»¥ï¼š**

- âŒ é”€å”®æºä»£ç æˆ–è¡ç”Ÿä½œå“
- âŒ éƒ¨ç½²ä¸ºå•†ä¸šç¡¬ä»¶/è½¯ä»¶äº§å“
- âŒ æ‰“åŒ…ä¸ºä»˜è´¹å¯æ‰§è¡Œåº”ç”¨ç¨‹åº
- âŒ ç”¨äºŽå•†ä¸šç½‘ç»œæœåŠ¡

æˆ‘ä»¬å…è´¹æä¾›æ­¤è½¯ä»¶ä»¥é€ ç¦ç¤¾åŒºï¼ŒåŒæ—¶é˜²æ­¢å•†ä¸šå®žä½“çš„å‰¥å‰Šã€‚è®¸å¯æ¡æ¬¾å¯èƒ½æ ¹æ®ç¤¾åŒºåé¦ˆæ›´æ–°ä¸ºApache-2.0æˆ–MITåè®®ã€‚

---

**æ³¨æ„**ï¼šæœ¬ç³»ç»Ÿä¸“ä¸ºç ”ç©¶å’Œæ— éšœç¢ç›®çš„è®¾è®¡ã€‚è™½ç„¶åŠŸèƒ½å®Œå¤‡ï¼Œä½†å¯èƒ½éœ€è¦ä¸ªäººè°ƒæ•´ä»¥èŽ·å¾—æœ€ä½³æ€§èƒ½ã€‚æˆ‘ä»¬é¼“åŠ±å®žéªŒå¹¶æ¬¢è¿Žåé¦ˆä»¥æ”¹è¿›ç³»ç»Ÿçš„ç¨³å¥æ€§å’Œå¯ç”¨æ€§ã€‚
